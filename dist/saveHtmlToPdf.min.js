angular.module("htmlToPdfSave",[]),angular.module("htmlToPdfSave").directive("pdfSaveButton",["$rootScope","$pdfStorage",function(e,t){return{restrict:"A",link:function(a,n,o){t.pdfSaveButtons.push(n),a.buttonText="Button",n.on("click",function(){var t=o.pdfSaveButton,a=o.pdfName;e.$broadcast("savePdfEvent",{activePdfSaveId:t,activePdfSaveName:a})})}}}]),angular.module("htmlToPdfSave").directive("pdfSaveContent",["$rootScope","$pdfStorage",function(e,t){return{link:function(e,a,n){t.pdfSaveContents.push(a);var o=e.$on("savePdfEvent",function(e,n){function o(e,t){return e==t}for(var d=a[0].getAttribute("pdf-save-content"),i=t.pdfSaveContents,r=n.activePdfSaveId,f=n.activePdfSaveName||"default.pdf",v=0;v<i.length;v++)if(o(r,d)){var s=i[v][0].getAttribute("pdf-save-content");if(o(s,r)){console.log("Id is same"),function(e,t){!function(e,t){var a=$("div[pdf-save-content="+t+"]")[0];html2canvas(a,{onpreloaded:function(){$(a).find("table:first").parent().css({overflow:"visible",width:"auto","max-height":"unset"}),$(".ds-pdf-header").removeClass("hide")},onrendered:function(e){for(var t=new jsPDF("p","pt","letter"),n=0;n<=a.clientHeight/980;n++){var o=e,d=980*n,i=a.clientWidth;window.onePageCanvas=document.createElement("canvas"),onePageCanvas.setAttribute("width",900),onePageCanvas.setAttribute("height",980);var r=onePageCanvas.getContext("2d");r.drawImage(o,0,d,i,980,0,0,900,980);var v=onePageCanvas.toDataURL("image/png",1),s=onePageCanvas.width,c=onePageCanvas.clientHeight;n>0&&t.addPage(612,791),t.setPage(n+1),t.addImage(v,"PNG",20,40,.62*s,.62*c)}t.save(f),$(a).find("table:first").parent().css({overflow:"scroll","max-height":$(a).attr("originalHeight"),width:$(a).attr("originalWidth")}),$(".ds-pdf-header").addClass("hide")}})}(0,t)}(0,s);break}}});e.$on("$destroy",o)}}}]),angular.module("htmlToPdfSave").service("$pdfStorage",function(){this.pdfSaveButtons=[],this.pdfSaveContents=[]}).service("pdfSaveConfig",function(){this.pdfName="default.pdf"});